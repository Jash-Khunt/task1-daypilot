<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DayPilot — Daily Planner</title>
  <meta name="description" content="DayPilot is a modern daily planning tool to organize tasks, set priorities, and track your progress.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="index.css">
</head>
<body>

  <!-- ─── Header ─── -->
  <header id="app-header">
    <div class="header-inner">
      <div class="brand">
        <svg class="brand-icon" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="28" height="28" rx="8" fill="url(#g1)"/>
          <path d="M8 14.5L12 18.5L20 10.5" stroke="#fff" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
          <defs><linearGradient id="g1" x1="0" y1="0" x2="28" y2="28"><stop stop-color="#6C5CE7"/><stop offset="1" stop-color="#a29bfe"/></linearGradient></defs>
        </svg>
        <h1>DayPilot</h1>
      </div>
      <div class="header-right">
        <time id="header-date"></time>
        <button id="btn-ai-plan" class="btn btn-ai" title="AI Plan">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a4 4 0 0 1 4 4c0 1.95-1.4 3.58-3.25 3.93"/><path d="M8.24 9.93A4 4 0 0 1 12 2"/><path d="M12 22a4 4 0 0 0 4-4c0-1.95-1.4-3.58-3.25-3.93"/><path d="M8.24 14.07A4 4 0 0 0 12 22"/><path d="M2 12a4 4 0 0 0 4 4c1.95 0 3.58-1.4 3.93-3.25"/><path d="M9.93 8.24A4 4 0 0 0 2 12"/><path d="M22 12a4 4 0 0 1-4 4c-1.95 0-3.58-1.4-3.93-3.25"/><path d="M14.07 8.24A4 4 0 0 1 22 12"/></svg>
          <span>AI Plan</span>
        </button>
      </div>
    </div>
  </header>

  <!-- ─── Main Content ─── -->
  <main id="app-main">

    <!-- Dashboard -->
    <section id="dashboard" class="card dashboard">
      <div class="stats-row">
        <div class="stat" id="stat-total">
          <span class="stat-value">0</span>
          <span class="stat-label">Total</span>
        </div>
        <div class="stat" id="stat-completed">
          <span class="stat-value">0</span>
          <span class="stat-label">Completed</span>
        </div>
        <div class="stat" id="stat-pending">
          <span class="stat-value">0</span>
          <span class="stat-label">Pending</span>
        </div>
        <div class="stat stat-progress-wrap" id="stat-percent">
          <span class="stat-value">0%</span>
          <span class="stat-label">Progress</span>
        </div>
      </div>
      <div class="progress-track">
        <div class="progress-fill" id="progress-fill" style="width:0%"></div>
      </div>
    </section>

    <!-- Task Form -->
    <section id="task-form-section" class="card">
      <h2 class="section-title">Add a Task</h2>
      <form id="task-form" autocomplete="off" novalidate>
        <div class="form-row">
          <div class="form-group form-group-title">
            <input type="text" id="input-title" placeholder="What do you need to do?" maxlength="120" required>
            <span class="form-error" id="error-title"></span>
          </div>
          <div class="form-group form-group-priority">
            <select id="input-priority">
              <option value="high">High</option>
              <option value="medium" selected>Medium</option>
              <option value="low">Low</option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <input type="text" id="input-note" placeholder="Optional note…" maxlength="200">
        </div>
        <button type="submit" class="btn btn-primary" id="btn-add-task">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
          Add Task
        </button>
      </form>
    </section>

    <!-- Controls Bar -->
    <section id="controls-bar">
      <div class="filter-group" role="group" aria-label="Filter tasks">
        <button class="filter-btn active" data-filter="all">All</button>
        <button class="filter-btn" data-filter="active">Active</button>
        <button class="filter-btn" data-filter="completed">Completed</button>
      </div>
      <div class="sort-group">
        <label for="sort-select" class="sr-only">Sort by</label>
        <select id="sort-select">
          <option value="priority">Priority</option>
          <option value="newest">Newest First</option>
        </select>
      </div>
    </section>

    <!-- Task List -->
    <section id="task-list-section">
      <div id="task-list"></div>
      <div id="empty-state" class="empty-state" style="display:none">
        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" opacity="0.35"><rect x="3" y="3" width="18" height="18" rx="3"/><path d="M8 12h8"/></svg>
        <p>No tasks yet — start planning your day!</p>
      </div>
    </section>

  </main>

  <!-- ─── AI Plan Modal ─── -->
  <div id="ai-modal" class="modal-overlay" aria-hidden="true">
    <div class="modal-card ai-modal-card">
      <button class="modal-close" id="ai-modal-close" aria-label="Close">&times;</button>

      <!-- Step 1: Input -->
      <div id="ai-step-input" class="ai-step">
        <h2>✨ AI Plan</h2>
        <p class="modal-subtitle">Tell me your goal and I'll suggest tasks for your day.</p>
        <div class="form-group">
          <label for="ai-goal">What is your main goal for today?</label>
          <input type="text" id="ai-goal" placeholder="e.g. Prepare for the math exam" maxlength="150">
          <span class="form-error" id="error-ai-goal"></span>
        </div>
        <div class="form-group">
          <label>How much time do you have?</label>
          <div class="radio-group">
            <label class="radio-pill"><input type="radio" name="ai-time" value="short"> 1–2 hours</label>
            <label class="radio-pill"><input type="radio" name="ai-time" value="medium" checked> 3–4 hours</label>
            <label class="radio-pill"><input type="radio" name="ai-time" value="long"> Full day</label>
          </div>
        </div>
        <button class="btn btn-primary" id="btn-ai-generate">Generate Plan</button>
      </div>

      <!-- Step 2: Suggestions -->
      <div id="ai-step-results" class="ai-step" style="display:none">
        <h2>Suggested Tasks</h2>
        <p class="modal-subtitle">Choose which tasks to add to your planner.</p>
        <div id="ai-suggestions-list" class="ai-suggestions-list"></div>
        <div class="ai-actions">
          <button class="btn btn-secondary" id="btn-ai-back">← Back</button>
          <button class="btn btn-outline" id="btn-ai-add-selected">Add Selected</button>
          <button class="btn btn-primary" id="btn-ai-add-all">Add All Tasks</button>
        </div>
      </div>
    </div>
  </div>

  <!-- ─── Delete Confirmation Modal ─── -->
  <div id="confirm-modal" class="modal-overlay" aria-hidden="true">
    <div class="modal-card confirm-modal-card">
      <h2>Delete Task?</h2>
      <p id="confirm-message">This action cannot be undone.</p>
      <div class="confirm-actions">
        <button class="btn btn-secondary" id="btn-confirm-cancel">Cancel</button>
        <button class="btn btn-danger" id="btn-confirm-delete">Delete</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
